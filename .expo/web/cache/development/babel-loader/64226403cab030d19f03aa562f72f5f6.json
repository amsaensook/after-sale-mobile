{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { Icon, Button, Text, View, Pressable } from \"native-base\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AppScanner = function AppScanner(_ref) {\n  var handleScanner = _ref.handleScanner;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasPermission = _useState2[0],\n    setHasPermission = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    scanned = _useState4[0],\n    setScanned = _useState4[1];\n  useEffect(function () {\n    (function _callee() {\n      var _await$BarCodeScanner, status;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(BarCodeScanner.requestPermissionsAsync());\n            case 2:\n              _await$BarCodeScanner = _context.sent;\n              status = _await$BarCodeScanner.status;\n              setHasPermission(status === \"granted\");\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  var handleBarCodeScanned = function handleBarCodeScanned(_ref2) {\n    var type = _ref2.type,\n      data = _ref2.data;\n    setScanned(true);\n    handleScanner(data);\n  };\n  if (hasPermission === null) {\n    return _jsx(Text, {\n      children: \"Requesting for camera permission\"\n    });\n  }\n  if (hasPermission === false) {\n    return _jsx(Text, {\n      children: \"No access to camera\"\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(BarCodeScanner, {\n      onBarCodeScanned: scanned ? undefined : handleBarCodeScanned,\n      style: StyleSheet.absoluteFillObject\n    }), scanned && _jsx(Button, {\n      title: \"Tap to Scan Again\",\n      onPress: function onPress() {\n        return setScanned(false);\n      }\n    }), _jsx(Pressable, {\n      onPress: function onPress() {\n        return handleScanner(null);\n      },\n      children: function children(_ref3) {\n        var isHovered = _ref3.isHovered,\n          isPressed = _ref3.isPressed;\n        return _jsx(Icon, {\n          mt: 1,\n          mb: 5,\n          as: _jsx(MaterialIcons, {\n            name: \"cancel\"\n          }),\n          size: \"6xl\",\n          color: isPressed ? \"danger.700\" : isHovered ? \"danger.700\" : \"danger.500\",\n          style: {\n            marginTop: scanned ? \"70%\" : \"120%\",\n            alignSelf: \"center\",\n            transform: [{\n              scale: isPressed ? 0.96 : 1\n            }]\n          }\n        });\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  }\n});\nexport default AppScanner;","map":{"version":3,"names":["React","useState","useEffect","Icon","Button","Text","View","Pressable","StyleSheet","BarCodeScanner","MaterialIcons","jsx","_jsx","jsxs","_jsxs","AppScanner","_ref","handleScanner","_useState","_useState2","_slicedToArray","hasPermission","setHasPermission","_useState3","_useState4","scanned","setScanned","_callee","_await$BarCodeScanner","status","_regeneratorRuntime","async","_callee$","_context","prev","next","awrap","requestPermissionsAsync","sent","stop","Promise","handleBarCodeScanned","_ref2","type","data","children","style","styles","container","onBarCodeScanned","undefined","absoluteFillObject","title","onPress","_ref3","isHovered","isPressed","mt","mb","as","name","size","color","marginTop","alignSelf","transform","scale","create","flex","flexDirection","justifyContent"],"sources":["D:/after-sale-mobile/src/components/AppScanner.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Icon, Button, Text, View, Pressable } from \"native-base\";\r\nimport { StyleSheet } from \"react-native\";\r\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\n\r\nconst AppScanner: React.FC<any> = ({ handleScanner }) => {\r\n  const [hasPermission, setHasPermission] = useState<boolean>(false);\r\n  const [scanned, setScanned] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n      setHasPermission(status === \"granted\");\r\n    })();\r\n  }, []);\r\n\r\n  const handleBarCodeScanned = ({ type, data }: any) => {\r\n    setScanned(true);\r\n    handleScanner(data);\r\n    //alert(`Bar code with type ${type} and data ${data} has been scanned!`);\r\n  };\r\n\r\n  if (hasPermission === null) {\r\n    return <Text>Requesting for camera permission</Text>;\r\n  }\r\n  if (hasPermission === false) {\r\n    return <Text>No access to camera</Text>;\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <BarCodeScanner\r\n        onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}\r\n        style={StyleSheet.absoluteFillObject}\r\n      />\r\n      {scanned && (\r\n        <Button title={\"Tap to Scan Again\"} onPress={() => setScanned(false)} />\r\n      )}\r\n      <Pressable onPress={() => handleScanner(null)}>\r\n        {({ isHovered, isPressed }) => {\r\n          return (\r\n            <Icon\r\n              mt={1}\r\n              mb={5}\r\n              as={<MaterialIcons name=\"cancel\" />}\r\n              size=\"6xl\"\r\n              color={\r\n                isPressed\r\n                  ? \"danger.700\"\r\n                  : isHovered\r\n                  ? \"danger.700\"\r\n                  : \"danger.500\"\r\n              }\r\n              style={{\r\n                marginTop: scanned ? \"70%\" : \"120%\",\r\n                alignSelf: \"center\",\r\n                transform: [\r\n                  {\r\n                    scale: isPressed ? 0.96 : 1,\r\n                  },\r\n                ],\r\n              }}\r\n            />\r\n          );\r\n        }}\r\n      </Pressable>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n\r\nexport default AppScanner;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}